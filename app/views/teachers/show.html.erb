<%= render "layouts/main-nav" %>

<div class="container py-5 dash-view mt-4">
  <div class="row" id="dash">
    <div class="col-md-4">
      <div class="mb-5">
        <div class="profile-pic text-center">
          <% if @teacher.image.attached? %>
            <%= image_tag @teacher.image, style: "width: 200px; display: block; margin: 0 auto", class: "rounded-circle shadow" %>
          <% else %>
            <div class="text-center avatar-size">üë©üèΩ‚Äçüè´</div>
          <% end %>
        </div>

        <p class="text-center text-muted mt-5">
          <%= @teacher.name.capitalize %>
        </p>
      </div>
    </div>
    <div class="col-md-6 mr-auto">
      <%= render 'layouts/notice' %>
      
      <div class="row">
        <% if current_teacher %>
        <div class="col-md-12 col-lg-12">
          <p class="alert-warning p-3 rounded">
            Adding an Address allows the system to match you with the nearest teachers 
            or group for your children. 
            <%= link_to "Add Address", teacher_address_path, class: "text-info border-bottom border-info ml-2 font-weight-bold" %>
          </p>
        </div>
        <% end %>

        <% if current_teacher || current_admin %>
        <div class="col-md-12 mb-4">
          <div class="px-3 rounded bg-light">
            <div class="d-flex align-items-center">
              <span class="border rounded py-2 px-3 mr-3">‚úâÔ∏è</span>
              <p class="pt-4 text-muted">
                <strong>Email</strong><br>
                <%= @teacher.email %>
              </p>
            </div>
          </div>
        </div>

        <div class="col-md-12 mb-4">
          <div class="px-3 rounded bg-light">
            <div class="d-flex align-items-center">
              <span class="border rounded py-2 px-3 mr-3">‚òéÔ∏è</span>
              <p class="pt-4 text-muted">
                <strong>Phone</strong><br>
                <% if @teacher.phone? %>
                  <%= @teacher.phone %>
                <% else %>
                    Update your profile
                <% end %>
              </p>
            </div>
          </div>
        </div>
        <% end %>
        
        <div class="col-md-12 mb-4">
          <div class="bg-light px-3 rounded">
            <div class="d-flex align-items-center">
              <span class="border rounded py-2 px-3 mr-3">üéì</span>
              <p class="pt-4 text-muted">
                <strong>Class</strong><br>
                <% if @teacher.grade? %>
                  <%= @teacher.grade %>
                <% else %>
                  Update your profile
                <% end %>
              </p>
            </div>
          </div>
        </div>

        <div class="col-md-12 mb-4">
          <div class="bg-light px-3 rounded">
            <div class="d-flex align-items-center">
              <span class="border rounded py-2 px-3 mr-3">üìñ</span>
              <p class="pt-4 text-muted">
                <strong>Subject</strong><br>
                <% if @teacher.subject? %>
                  <%= @teacher.subject %>
                <% else %>
                  Update your profile
                <% end %>
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="d-flex flex-wrap mt-4 mb-5">
        <% if current_teacher || current_admin %>
          <%= link_to 'Update profile', edit_teacher_path(@teacher), class: "btn bg-green-btn text-white shadow px-5 py-3 mb-3 mr-3" %>
        <% end %>
      </div>
    </div>
  </div>
</div>